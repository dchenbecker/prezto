#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Customize to your needs...
setopt extendedglob

export PATH="/usr/local/opt/coreutils/libexec/gnubin:/usr/local/bin:/bin:/usr/sbin:/sbin:/usr/bin:$HOME/bin"
export MANPATH="/usr/local/man:$MANPATH"

# Preferred editor for local and remote sessions
export ALTERNATE_EDITOR=""
if [[ -n $SSH_CONNECTION ]]; then
  export EDITOR='emacsclient -nw'
else
  export EDITOR='emacsclient'
fi

# For tramp happiness
if [[ "$TERM" == "dumb" ]]
then
  unsetopt zle
  unsetopt prompt_cr
  unsetopt prompt_subst
  unfunction precmd
  unfunction preexec
  PS1='$ '
fi

for fl in $HOME/.zprezto/runcoms/custom/*.zsh; do
  . $fl
done
